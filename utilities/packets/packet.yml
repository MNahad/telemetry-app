version: '1.2'

# structure name
name:
  struct: Packet
  sql:    frames

# sql keys
keys:
  primary:
    - { name: frame_id }

# members only used in a particular output type
special:
  sql:
    frame_bin:   { type: { name: binary, bits: 3136 }, desc: '' }

# standard members
fields:
  crc:           { type: { name: char }, length: 2,  desc: '' }
  hash:          { type: { name: char }, length: 16, desc: '' }
  downlink_time: { type: { name: time },             desc: '' }
  # type:          { type: { name: enum, values: ['gps', 'imu', 'health', 'img', 'config'], enum_name: 'PayloadType' }, desc: '' }
  type:
    struct:      { type: { name: PayloadType, bits: 4 } }
    sql:         { type: { name: "enum('gps', 'imu', 'health', 'img', 'config')" } }
    desc: ''
  status:
    struct:      { type: { name: Status, bits: 0 } }
    sql:         { type: { name: char }, length: 2 }
    desc: ''
  payload:
    struct:      { type: { name: Payload, bits: 0 } }
    sql:         { type: { name: char }, length: 2 }
    desc: ''
